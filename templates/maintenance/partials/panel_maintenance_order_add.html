{% load djicons i18n %}

<div class="side-sheet-header">
    <h3 class="sheet-title">{% trans "Add Maintenanceorder" %}</h3>
    <button class="sheet-close" @click="closePanel()">{% icon "close-outline" %}</button>
</div>

<div class="side-sheet-content">
    <form id="add-maintenance_order-form"
          hx-post="{% url 'maintenance:maintenance_order_add' %}"
          hx-target="#datatable-body"
          hx-swap="innerHTML"
          @htmx:after-request="closePanel()"
          class="flex flex-col gap-4 p-6">
        {% csrf_token %}

        {% if error %}
        <div class="callout callout-error">
            <div class="callout-content"><span class="callout-text">{{ error }}</span></div>
        </div>
        {% endif %}

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Reference" %}</label>
            <input type="text" name="reference" class="input input-sm w-full" placeholder="{% trans 'Reference' %}">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Title" %}</label>
            <input type="text" name="title" class="input input-sm w-full" placeholder="{% trans 'Title' %}">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Description" %}</label>
            <textarea name="description" class="textarea textarea-sm w-full" rows="3"></textarea>
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Maintenance Type" %}</label>
            <select name="maintenance_type" class="select select-sm w-full">
                <option value="">{% trans "Select..." %}</option>
            </select>
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Priority" %}</label>
            <input type="text" name="priority" class="input input-sm w-full" placeholder="{% trans 'Priority' %}">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Status" %}</label>
            <input type="text" name="status" class="input input-sm w-full" placeholder="{% trans 'Status' %}">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Scheduled Date" %}</label>
            <input type="date" name="scheduled_date" class="input input-sm w-full">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Completed Date" %}</label>
            <input type="date" name="completed_date" class="input input-sm w-full">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Assigned To" %}</label>
            <input type="text" name="assigned_to" class="input input-sm w-full" placeholder="{% trans 'Assigned To' %}">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Cost" %}</label>
            <input type="number" name="cost" class="input input-sm w-full" step="0.01" placeholder="0">
        </div>

        <div>
            <label class="text-sm font-medium mb-1 block">{% trans "Notes" %}</label>
            <textarea name="notes" class="textarea textarea-sm w-full" rows="3"></textarea>
        </div>
    </form>
</div>

<div class="side-sheet-footer">
    <div class="flex justify-end gap-2">
        <button type="button" class="btn btn-ghost btn-sm" @click="closePanel()">{% trans "Cancel" %}</button>
        <button type="submit" form="add-maintenance_order-form" class="btn btn-sm color-primary">
            {% icon "add-outline" %} {% trans "Add" %}
        </button>
    </div>
</div>
